import{r as L,o as y,c as b,a as V,d as U,b as E,E as M,e as P,f as O,g as H,h as R,i as T,j as Y,k as a,l as p,u as _,m as A,w as v,s as q,n as j,p as z,q as K,t as W,v as G,x as r,y as J,z as D,A as Q,B as X,C as Z}from"./vendor.61609e0f.js";const $=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const F of o.addedNodes)F.tagName==="LINK"&&F.rel==="modulepreload"&&s(F)}).observe(document,{childList:!0,subtree:!0});function u(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=u(e);fetch(e.href,o)}};$();var C=(n,t)=>{const u=n.__vccOpts||n;for(const[s,e]of t)u[s]=e;return u};const ee={};function te(n,t){const u=L("router-view");return y(),b(u)}var ue=C(ee,[["render",te]]);const w=V.create({timeout:1e3*10,withCredentials:!1});let ae=window.location.protocol,oe=window.location.hostname,B=ae+"//"+oe+":3600/";console.log(B);class x{static async get(t,u={},s={}){t=B+t,u.t=Date.now();try{return(await w.get(t,{params:u,headers:s})).data}catch(e){const o=e.response;return o?o.data:e.message}}static async post(t,u={},s={}){t=B+t,u.t=Date.now();try{return(await w.post(t,u,{headers:s})).data}catch(e){const o=e.response;return o?o.data:e.message}}}async function se(n,t,u){let s=new FormData;return s.append("username",n),s.append("studentId",t),s.append("file",u),await x.post("upload_file",s)}async function ne(n,t){let u=new FormData;return u.append("username",n),u.append("studentId",t),await x.post("history_search",u)}const f=n=>(K("data-v-0199fa7f"),n=n(),W(),n),ie={class:"main-div"},le=f(()=>a("div",{style:{"justify-content":"center"}},[a("h1",null," \u7814\u7A76\u751F\u79D1\u6280\u8BBA\u6587\u5199\u4F5C\u8BFE\u7A0B ")],-1)),re={style:{display:"flex",width:"80%","align-items":"center"}},de=f(()=>a("span",{style:{"white-space":"nowrap"}},"\u59D3\u540D\uFF1A",-1)),ce={style:{display:"flex",width:"80%","align-items":"center","margin-top":"30px"}},pe=f(()=>a("span",{style:{"white-space":"nowrap"}},"\u5B66\u53F7\uFF1A",-1)),_e=f(()=>a("div",{style:{"margin-top":"30px"}},null,-1)),fe={style:{display:"flex","flex-direction":"row",width:"80%","border-width":"1px 1px 1px 1px","border-style":"solid","border-color":"#eee"}},me={style:{width:"50%","border-width":"0 1px 0 0","border-style":"solid","border-color":"#eee",display:"flex","align-items":"center","flex-direction":"column"}},Fe=f(()=>a("div",null,[a("h2",null," \u8BBA\u6587\u63D0\u4EA4 ")],-1)),he={style:{"margin-top":"5px"}},ve=f(()=>a("div",{class:"el-upload__text"},[D(" Drop file here or "),a("em",null,"click to upload")],-1)),Ee=f(()=>a("div",{class:"el-upload__tip"}," \u6587\u4EF6\u4E0D\u80FD\u5927\u4E8E100M ",-1)),ye={style:{width:"50%",display:"flex","align-items":"center","flex-direction":"column"}},Be=f(()=>a("div",null,[a("h2",null," \u8BBA\u6587\u63D0\u4EA4\u8BB0\u5F55\u67E5\u8BE2 ")],-1)),ge=D(" Search "),Ae={style:{"margin-top":"10px"}},we=G('<div style="width:80%;" data-v-0199fa7f><h2 data-v-0199fa7f>\u4F7F\u7528\u6307\u5357\uFF1A</h2><div data-v-0199fa7f> \u9996\u5148\u8F93\u5165\u59D3\u540D\u548C\u5B66\u53F7\uFF0C\u7136\u540E\u70B9\u51FB<b data-v-0199fa7f>\u8BBA\u6587\u63D0\u4EA4</b>\u4E0B\u9762\u7684\u5927\u6309\u94AE\u8FDB\u884C\u4F5C\u4E1A\u63D0\u4EA4 </div><div data-v-0199fa7f> \u63D0\u4EA4\u5B8C\u4EE5\u540E\uFF0C\u4E5F\u53EF\u4EE5\u70B9\u51FB<b data-v-0199fa7f>\u8BBA\u6587\u63D0\u4EA4\u8BB0\u5F55\u67E5\u8BE2</b>\u8FDB\u884C\u4F5C\u4E1A\u63D0\u4EA4\u67E5\u8BE2\uFF0C\u7CFB\u7EDF\u4F1A\u5217\u51FA\u6240\u6709\u63D0\u4EA4\u7684\u7248\u672C </div><div data-v-0199fa7f> \u6CE8\u610F\uFF0C\u4F5C\u4E1A\u4EE5<b data-v-0199fa7f>\u6700\u540E\u4E00\u6B21\u63D0\u4EA4</b>\u4E3A\u51C6 </div><h2 data-v-0199fa7f>\u{1F389}\u524D\u540E\u7AEF\u4EE3\u7801\u5747\u5DF2\u5F00\u6E90\uFF1A</h2><div data-v-0199fa7f> \u524D\u7AEF\uFF1A<a href="https://github.com/NingYuanLin/homework_submit_system_web" data-v-0199fa7f>https://github.com/NingYuanLin/homework_submit_system_web</a></div><div data-v-0199fa7f> \u540E\u7AEF\uFF1A<a href="https://github.com/NingYuanLin/homework_submit_system_flask" data-v-0199fa7f>https://github.com/NingYuanLin/homework_submit_system_flask</a></div></div>',1),be=U({setup(n){let t=E(""),u=E(""),s=E(!1),e=E([]);const o=d=>{console.log(d.type);const i=d.type==="application/pdf",l=d.size/1024/1024<100,c=t.value!="",m=u.value!="";return i?l?c?m||r.error("\u8BF7\u8F93\u5165\u60A8\u7684\u5B66\u53F7"):r.error("\u8BF7\u8F93\u5165\u60A8\u7684\u59D3\u540D"):r.error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u8981\u8D85\u8FC7 100MB!"):r.error("\u8BF7\u4E0A\u4F20PDF\u683C\u5F0F\u7684\u6587\u4EF6!"),i&&l&&c&&m},F=async d=>{r.info("\u6B63\u5728\u4E0A\u4F20\u6587\u4EF6\uFF0C\u8BF7\u7A0D\u7B49~");let i=await se(t.value,u.value,d.file);const l=i.status,c=i.msg;l===200?r.success(c):r.error(c)},I=async()=>{s.value=!0;const d=t.value!="",i=u.value!="";if(!d)r.error("\u8BF7\u8F93\u5165\u60A8\u7684\u59D3\u540D");else if(!i)r.error("\u8BF7\u8F93\u5165\u60A8\u7684\u5B66\u53F7");else{let l=await ne(t.value,u.value);if(l.status===200)e.value=l;else{const m=l.msg;r.error(m)}}s.value=!1};return(d,i)=>{const l=M,c=P,m=O,N=H,g=R,S=T;return y(),Y("div",ie,[le,a("div",re,[de,p(l,{modelValue:_(t),"onUpdate:modelValue":i[0]||(i[0]=h=>A(t)?t.value=h:t=h),placeholder:"Please input"},null,8,["modelValue"])]),a("div",ce,[pe,p(l,{modelValue:_(u),"onUpdate:modelValue":i[1]||(i[1]=h=>A(u)?u.value=h:u=h),placeholder:"Please input"},null,8,["modelValue"])]),_e,a("div",fe,[a("div",me,[Fe,a("div",he,[p(m,{class:"upload-demo",drag:"",action:"",multiple:"","before-upload":o,"http-request":F},{tip:v(()=>[Ee]),default:v(()=>[p(c,{class:"el-icon--upload"},{default:v(()=>[p(_(J))]),_:1}),ve]),_:1})])]),a("div",ye,[Be,a("div",null,[p(N,{type:"primary",icon:_(q),"loading-icon":_(j),loading:_(s),onClick:I,plain:""},{default:v(()=>[ge]),_:1},8,["icon","loading-icon","loading"])]),a("div",Ae,[_(e).length!==0?(y(),b(S,{key:0,data:_(e),style:{width:"100%"}},{default:v(()=>[p(g,{prop:"date",label:"\u4E0A\u4F20\u65E5\u671F",width:"180"}),p(g,{prop:"filename",label:"\u6587\u4EF6\u540D",width:"180"})]),_:1},8,["data"])):z("",!0)])])]),we])}}});var De=C(be,[["__scopeId","data-v-0199fa7f"]]);const Ce=Q(),xe=X({history:Ce,routes:[{path:"/",component:De}]}),k=Z(ue);k.use(xe);k.mount("#app");
